{% extends "main/base.html" %}
{% load static %}
{% load app_main %}
{#{% load compress %}#}

{% block meta %}
    <meta name="keywords" content="用户管理"/>
    <meta name="description" content="用户管理"/>
{% endblock %}

{% block title %}
    <title>用户管理</title>
{% endblock %}

{% block linkcss %}
    <link rel="stylesheet" href="/static/css/DT_bootstrap.css" type="text/css"/>
    <link rel="stylesheet" href="/static/css/select2_metro.css" type="text/css"/>
{% endblock %}
{% block bBody %}
    <!-- BEGIN PAGE -->
    <div class="page-content">

        <!-- BEGIN SAMPLE PORTLET CONFIGURATION MODAL FORM-->

        <div id="portlet-config" class="modal hide">

            <div class="modal-header">

                <button data-dismiss="modal" class="close" type="button"></button>

                <h3>portlet Settings</h3>

            </div>

            <div class="modal-body">

                <p>Here will be a configuration form</p>

            </div>

        </div>

        <!-- END SAMPLE PORTLET CONFIGURATION MODAL FORM-->

        <!-- BEGIN PAGE CONTAINER-->

        <div class="container-fluid">

            <!-- BEGIN PAGE HEADER-->

            <div class="row-fluid">

                <div class="span12">

                    <!-- BEGIN STYLE CUSTOMIZER -->

                    <div class="color-panel hidden-phone">

                        <div class="color-mode-icons icon-color"></div>

                        <div class="color-mode-icons icon-color-close"></div>

                        <div class="color-mode">

                            <p>THEME COLOR</p>

                            <ul class="inline">

                                <li class="color-black current color-default" data-style="default"></li>

                                <li class="color-blue" data-style="blue"></li>

                                <li class="color-brown" data-style="brown"></li>

                                <li class="color-purple" data-style="purple"></li>

                                <li class="color-grey" data-style="grey"></li>

                                <li class="color-white color-light" data-style="light"></li>

                            </ul>

                            <label>

                                <span>Layout</span>

                                <select class="layout-option m-wrap small">

                                    <option value="fluid" selected>Fluid</option>

                                    <option value="boxed">Boxed</option>

                                </select>

                            </label>

                            <label>

                                <span>Header</span>

                                <select class="header-option m-wrap small">

                                    <option value="fixed" selected>Fixed</option>

                                    <option value="default">Default</option>

                                </select>

                            </label>

                            <label>

                                <span>Sidebar</span>

                                <select class="sidebar-option m-wrap small">

                                    <option value="fixed">Fixed</option>

                                    <option value="default" selected>Default</option>

                                </select>

                            </label>

                            <label>

                                <span>Footer</span>

                                <select class="footer-option m-wrap small">

                                    <option value="fixed">Fixed</option>

                                    <option value="default" selected>Default</option>

                                </select>

                            </label>

                        </div>

                    </div>

                    <!-- END BEGIN STYLE CUSTOMIZER -->

                    <!-- BEGIN PAGE TITLE & BREADCRUMB-->

                    <h3 class="page-title">
                        用户管理
                        <small>管理用户信息</small>

                    </h3>

                    <ul class="breadcrumb">

                        <li>

                            <i class="icon-home"></i>

                            <a href="/home/">首页</a>

                            <i class="icon-angle-right"></i>

                        </li>

                        <li>

                            <a href="#">系统设置</a>

                            <i class="icon-angle-right"></i>

                        </li>

                        <li><a href="#">用户管理</a></li>

                    </ul>

                    <!-- END PAGE TITLE & BREADCRUMB-->

                </div>

            </div>

            <!-- END PAGE HEADER-->

            <!-- BEGIN PAGE CONTENT-->

            <div class="row-fluid">

                <div class="span12">

                    <!-- BEGIN EXAMPLE TABLE PORTLET-->

                    <div class="portlet box light-grey">

                        <div class="portlet-title">
                            <div class="caption"><i class="icon-list"></i>用户列表</div>
                        </div>

                        <div class="portlet-body">

                            <div class="clearfix">

                                <div class="btn-group">

                                    <a href="/toAddUser/" id="sample_editable_1_new" class="btn green">
                                        添加新用户 <i class="icon-plus"></i>
                                    </a>

                                </div>

{#                                <div class="btn-group pull-right">#}
{##}
{#                                    <button class="btn dropdown-toggle" data-toggle="dropdown">工具 <i#}
{#                                            class="icon-angle-down"></i>#}
{##}
{#                                    </button>#}
{##}
{#                                    <ul class="dropdown-menu pull-right">#}
{##}
{#                                        <li><a href="/export_customer/">导出Excel</a></li>#}
{##}
{#                                    </ul>#}
{##}
{#                                </div>#}

                            </div>
                            <div id="sample_1_wrapper" class="dataTables_wrapper form-inline" role="grid">
                                <div class="row-fluid">
                                    <div class="span6">
                                        <div id="sample_1_length" class="dataTables_length"><label><select size="1"
                                                                                                           name="sample_1_length"
                                                                                                           aria-controls="sample_1"
                                                                                                           class="m-wrap small">
                                            <option value="5" selected="selected">5</option>
                                            <option value="15">15</option>
                                            <option value="20">20</option>
                                            <option value="-1">All</option>
                                        </select>条每页</label></div>
                                    </div>
                                    <div class="span6">
                                        <div class="dataTables_filter" id="sample_1_filter"><label>搜索: <input
                                                type="text"
                                                aria-controls="sample_1"
                                                class="m-wrap medium"></label>
                                        </div>
                                    </div>
                                </div>
                                <table class="table table-striped table-bordered table-hover" id="sample_1">

                                    <thead>

                                    <tr>
                                        <th>编号</th>
                                        <th>登录名</th>
                                        <th>姓名</th>
                                        <th>生日</th>
                                        <th class="hidden-480">电子邮件</th>
                                        <th class="hidden-480">是否管理员</th>
                                        <th class="hidden-480">手机号码</th>
                                        <th class="hidden-480">爱好</th>
                                        <th class="hidden-480">加入日期</th>
                                        <th class="hidden-480">地址</th>
{#                                        <th class="hidden-480">操作</th>#}
                                    </tr>
                                    </thead>

                                    <tbody>
                                    {% if userList_page %}
                                        {% for item in userList_page %}
                                            <tr class="odd gradeX">
                                                <td>{{ item.id }}</td>
                                                <td>{{ item.username }}</td>
                                                <td class="hidden-480">{{ item.first_name }}{{ item.last_name }}</td>
                                                <td>{{ item.birthday| date:'Y-m-d'  }}</td>
                                                <td class="hidden-480">{{ item.email }}</td>
                                                <td class="hidden-480">
                                                    {% ifequal item.is_superuser 1 %}
                                                        是
                                                    {% else %}
                                                        否
                                                    {% endifequal %}
                                                </td>
                                                <td class="hidden-480">{{ item.phone }}</td>
                                                <td class="center hidden-480">{{ item.interests }}</td>
                                                <td class="center hidden-480">{{ item.date_joined | date:'Y-m-d H:i:s' }}</td>
                                                <td class="center hidden-480">{{ item.address }}</td>
{#                                                <td class="center hidden-480">#}
{#                                                    <a#}
{#                                                        href="{% url 'merchant_edit' item.id %}"><i class="icon-edit"#}
{#                                                                                                    style="font-size: 17px;"></i></a>#}
{#                                                    <a href="{% url 'delete' item.id %}"><i class="icon-trash"#}
{#                                                                                            style="font-size: 17px;"></i></a>#}
{#                                                </td>#}
                                            </tr>
                                        {% endfor %}
                                    {% else %}
                                        <tr>
                                            <td colspan="8" class="text-center">没有查找到数据</td>
                                        </tr>
                                    {% endif %}

                                    </tbody>

                                </table>
                                <div class="row-fluid">
                                    <div class="span6">
                                        <div class="dataTables_info" id="sample_1_info">每页10条，共{{ paginator.count }}条
                                        </div>
                                    </div>
                                    <div class="span6">
                                        <div class="dataTables_paginate paging_bootstrap pagination">
                                            {% if paginator.count > 10 %}
                                                <ul id="pagination_nm">
                                                    {% if contacts.has_previous %}
                                                        <li><a
                                                                href="?page={{ contacts.previous_page_number }}">
                                                            &lt;上一页</a></li>
                                                    {% else %}
                                                        <li class="prev disabled"><a href="javascript:" title="已是最前一页了">
                                                            &lt;上一页</a>
                                                        </li>
                                                    {% endif %}
                                                    {% for i in contacts.paginator.num_pages|paging:contacts.number %}
                                                        {% ifequal i contacts.number %}
                                                            <li><a href="javascript:"
                                                                   style="background-color:#F5F5F5;color:#FF0000">{{ i }}</a>
                                                            </li>
                                                        {% else %}
                                                            <li><a href="?page={{ i }}">{{ i }}</a></li>
                                                        {% endifequal %}
                                                    {% endfor %}
                                                    {% if contacts.has_next %}
                                                        <li class="next"><a
                                                                href="?page={{ contacts.next_page_number }}">下一页&gt;</a>
                                                        </li>
                                                    {% else %}
                                                        <li class="next"><a href="javascript:" title="已是最后一页了"
                                                                            style="color:#ccc">下一页&gt;</a>
                                                        </li>
                                                    {% endif %}
                                                </ul>
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- END EXAMPLE TABLE PORTLET-->
                </div>
            </div>
            <!-- END PAGE CONTENT-->
        </div>
        <!-- END PAGE CONTAINER-->
    </div>
    <!-- END PAGE -->
{% endblock %}
{% block bJs %}
    {#    <script src="/static/js/table-managed.js" type="text/javascript"></script>#}
    {#    <script type="text/javascript" src="/static/js/jquery.dataTables.js"></script>#}
    {#    <script>#}
    {#        jQuery(document).ready(function () {#}
    {##}
    {#            App.init();#}
    {##}
    {#            TableManaged.init();#}
    {##}
    {#        });#}
    {#    </script>#}
{% endblock %}

